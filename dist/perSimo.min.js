"use strict";!function(t,e){function n(t,e){return[(e.pageX-t.canvas.offsetLeft)/(t.canvasScreenWidth/t.canvasWidth),(e.pageY-t.canvas.offsetTop)/(t.canvasScreenHeight/t.canvasHeight)]}var i=function(e){var i=this;if(this.canvas=e.canvas,void 0===this.canvas.getAttribute("width")||void 0===this.canvas.getAttribute("height"))throw new Error("Attributes width and height are mandatory on canvas element!");this.canvasWidth=e.width||parseInt(this.canvas.getAttribute("width"),10),this.canvasHeight=e.height||parseInt(this.canvas.getAttribute("height"),10),this.canvasScreenWidth=this.canvas.clientWidth,this.canvasScreenHeight=this.canvas.clientHeight,this.ctx=this.canvas.getContext("2d"),this.mousedown=!1,this.setColor(e.color="#000"),this.setSize(e.size=10),t.addEventListener("resize",function(){i.canvasScreenWidth=i.canvas.clientWidth,i.canvasScreenHeight=i.canvas.clientHeight}),this.canvas.addEventListener("mousedown",function(t){i.mousedown=!0;var e=n(i,t);i.ctx.beginPath(),i.ctx.moveTo(e[0],e[1])}),t.addEventListener("mouseup",function(){i.mousedown=!1}),this.canvas.addEventListener("mousemove",function(t){if(i.mousedown){var e=n(i,t);i.ctx.lineTo(e[0],e[1]),i.ctx.stroke()}})};i.prototype.setColor=function(t){this.ctx.strokeStyle=t},i.prototype.setSize=function(t){this.ctx.lineWidth=parseInt(t,10)},t.PerSimo=i}(window,document);